<!doctype html>
<html lang="zh" class="no-js">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="css/reset.css">
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/add.css">
    <link rel="stylesheet" href="css/animate.min.css">
</head>

<body>
    <section class="cd-product">
        <div class="cd-product-intro">
            <h1>这是XX楼</h1>
            <p>该楼的信息如下：</p>
            <p>有室内三维导航功能</p>
            <div class="cd-triggers">
            </div>
        </div>
        <div id="cd-floor-0" class="cd-product-mockup">
            <div class="cd-start"></div>
            <ul class="cd-points-container points-enlarged points-pulsing">
                <li class="cd-single-point ">
                    <a class="cd-img-replace" href="#">More info</a>
                    <div class="cd-more-info cd-left">
                        <h2>Title</h2>
                    </div>
                </li>
                <li class="cd-single-point">
                    <a class="cd-img-replace" href="#">More info</a>
                    <div class="cd-more-info cd-left">
                        <h2>Title</h2>
                    </div>
                </li>
                <li class="cd-single-point">
                    <a class="cd-img-replace" href="#">More info</a>
                    <div class="cd-more-info cd-right">
                        <h2>Title</h2>
                    </div>
                </li>
            </ul>
            <div class="cd-3d-right-side"></div>
            <div class="cd-3d-bottom-side"></div>
        </div>
        <a href="#" class="cd-close-product-tour cd-img-replace">返回</a>
    </section>
    <section id="legend-pannel">
        <div id="switch_btn">图例板</div>
        <div id="Legend">
            <ul>
                <li>
                    <div class="box-legend">A</div>
                    <div class="text-legend">普通节点</div>
                </li>
                <li>
                    <div class="box-legend">B</div>
                    <div class="text-legend">楼道节点</div>
                </li>
                <li>
                    <div class="box-legend">C</div>
                    <div class="text-legend">电梯节点</div>
                </li>
            </ul>
        </div>
        <div>连接节点</div>
    </section>
    <section id="roomInfo-pannel">
        <h1>这是第X层</h1>
    </section>
    <section id="location-pannel">
    </section>
    <!-- 室内地图自动大小功能 -->
    <!--     <div id="autoMap" style="position:absolute;">
        <img src="img/cd-app-image.png">
    </div> -->
    <script src="js/jquery-2.1.1.min.js"></script>
    <script src="js/AddNode.js"></script>
    <script src="js/draggabilly.pkgd.min.js"></script>
    <script>
    function addLine(A_X, A_Y, B_X, B_Y, dom) {
        var add = 0;
        if (A_Y > B_Y) {
            [A_X, B_X] = [B_X, A_X];
            [A_Y, B_Y] = [B_Y, A_Y];
        }
        var D_X = Math.abs(A_X - B_X);
        var D_Y = Math.abs(A_Y - B_Y);
        var midpoint = {}
        midpoint.left = (B_X + A_X) / 2;
        midpoint.top = A_Y;
        var rotate = Math.atan(D_X / D_Y) * 180 / Math.PI;
        console.log(rotate);
        var length = Math.sqrt(D_X * D_X + D_Y * D_Y)
        var domName = '<div class="Floor_line" style="top:' + midpoint.top + 'px;left:' + midpoint.left + 'px;height:' + length + 'px;transform:rotate(-' + (rotate + add) + 'deg);"></div>'
        $(dom).append(domName);
    }
    addLine(20, 20, 10, 10, '.cd-start')
    function addPoint(x,y,f){


    }
    </script>
</body>

</html>
